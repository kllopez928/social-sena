<!-- Story START -->
<div class="tiny-slider arrow-hover overflow-hidden">
    <div *ngIf="!load_historias" class="tiny-slider-inner ms-n4" data-arrow="true" data-dots="true" data-loop="false" data-autoplay="false" data-items-xl="4" data-items-lg="3" data-items-md="3" data-items-sm="3" data-items-xs="2" data-gutter="12" data-edge="30">

      <!-- Slider items -->
      <div>
        <!-- Card add story START -->
        <div class="card border border-2 border-dashed h-150px shadow-none d-flex align-items-center justify-content-center text-center" data-bs-toggle="modal" data-bs-target="#openStory" style="cursor: pointer;">
          <div>
            <a class="stretched-link btn btn-light rounded-circle icon-md" href="#!"><i class="fa-solid fa-plus"></i></a>
            <h6 class="mt-2 mb-0 small">Publica tu día</h6>
          </div>
        </div>
        <!-- Card add story END -->
      </div>

      <!-- Slider items -->
      <div *ngFor="let item of historias">
        <!-- Card START -->
        <div class="card card-overlay-bottom border-0 position-relative h-150px" style="background-image:url({{url}}obtener_historia_img/{{item.imagen}}); background-position: center left; background-size: cover;">
          <div class="card-img-overlay d-flex align-items-center p-2">
            <div class="w-100 mt-auto">
              <!-- Name -->
              <a href="#!" class="stretched-link text-white small">
                {{item.usuario.nombres}}
                {{item.usuario.apellidos}}
              </a>
            </div>
          </div>
        </div>
        <!-- Card END -->
      </div>
    </div>

    <div class="row" *ngIf="load_historias">
        <div class="col lazyColor h-150px" style="margin-right: 1rem;">
    
        </div>
        <div class="col lazyColor h-150px" style="margin-right: 1rem;">
    
        </div>
        <div class="col lazyColor h-150px" style="margin-right: 1rem;">
    
        </div>
        <div class="col lazyColor h-150px" style="margin-right: 1rem;">
    
        </div>
    </div>
  </div>
  <!-- Story END -->


  <!-- Modal create Feed photo START -->
<div class="modal fade" id="openStory" tabindex="-1" aria-labelledby="feedActionPhotoLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <!-- Modal feed header START -->
        <div class="modal-header">
          <h5 class="modal-title" id="feedActionPhotoLabel">Subir mi día</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <!-- Modal feed header END -->
  
          <!-- Modal feed body START -->
          <div class="modal-body">
  
            <ng-container *ngIf="!str_image">
              <label for="uploadStory" class="w-100 text-center" style="margin-bottom: 2rem;cursor:pointer">
                <img src="assets/images/marco-de-la-foto.png" alt="" style="width: 180px;">
                <br>
                <span class="text-muted" *ngIf="!msm_story_error" style="color: #878787 !important;">
                  Subir imagen
                </span>
                <span class="text-danger" *ngIf="msm_story_error">
                  {{msm_story_error}}
                </span>
                
              </label>
              <input type="file" id="uploadStory" style="display: none;" (change)="uploadImage($event)">
            </ng-container>
            <ng-container *ngIf="str_image">
              <div style="margin-bottom: 2rem">
                <img [src]="str_image" alt="" style="width:100%">
                <small class="text-danger" style="cursor: pointer;" (click)="removeImage()">Quitar</small>
              </div>
              
            </ng-container>
  
            <div class="d-flex align-items-center">
              <!-- Avatar -->
              <div class="avatar avatar-story me-2">
                <a href="#!"> <img class="avatar-img rounded-circle" src="assets/images/avatar/04.jpg" alt=""> </a>
              </div>
              <!-- Info -->
              <div *ngIf="user">
                <div class="nav nav-divider">
                  <h6 class="nav-item card-title mb-0"> <a> {{user.nombres}} {{user.apellidos}} </a></h6>
                </div>
                <p class="mb-0 small" *ngIf="user.profesion">{{user.profesion}}</p>
                <p class="mb-0 small" *ngIf="!user.profesion">Sin profesión asignada</p>
              </div>
            </div>
          </div>
          <!-- Modal feed body END -->
  
          <!-- Modal feed footer -->
          <div class="modal-footer ">
            <!-- Button -->
              <button type="button" class="btn btn-danger-soft me-2" data-bs-dismiss="modal">Cancel</button>
              <button type="button" class="btn btn-success-soft" (click)="save()">Subir historia</button>
          </div>
          <!-- Modal feed footer -->
      </div>
    </div>
  </div>
  <!-- Modal create Feed photo END -->